{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import axios from 'axios';\n// // import '../assets/auth.css';  \n// import '../pages/Auth.css';\n// import { useDispatch } from 'react-redux';\n// // import { setAuthUser } from '../redux/authSlice';\n\n// function Auth() {\n//   const [isRightPanelActive, setRightPanelActive] = useState(false);\n//   const [signUpData, setSignUpData] = useState({ username: '', email: '', password: '', role: '' });\n//   const [signInData, setSignInData] = useState({ email: '', password: '' });\n//   const [loading, setLoading] = useState(false);\n//   const [error, setError] = useState(null);\n\n//   const navigate = useNavigate();\n//   const dispatch = useDispatch();\n\n//   useEffect(() => {\n//     const cookies = document.cookie.split(';').find(cookie => cookie.trim().startsWith('user='));\n//     if (cookies) {\n//       const user = JSON.parse(decodeURIComponent(cookies.split('=')[1]));\n//       if (user) {\n//         // dispatch(setAuthUser(user)); // Set the user in Redux state\n//         navigate('/homePage'); // Redirect to home page\n//       }\n//     }\n//   }, [navigate, dispatch]);\n\n//   const handleSignUpChange = (e) => {\n//     setSignUpData({ ...signUpData, [e.target.name]: e.target.value });\n//   };\n\n//   const handleSignInChange = (e) => {\n//     setSignInData({ ...signInData, [e.target.name]: e.target.value });\n//   };\n\n//   const handleSignUpSubmit = async (e) => {\n//     e.preventDefault();\n//     setLoading(true);\n//     setError(null);\n\n//     try {\n//       const res = await axios.post('http://localhost:8000/api/v1/user/register', signUpData, {\n//         headers: { 'Content-Type': 'application/json' },\n//       });\n\n//       if (!res.data.success) {\n//         setError('Sign up failed. Please try again.');\n//       } else {\n//         setRightPanelActive(false);\n//       }\n//     } catch (error) {\n//       setError('Sign up failed. Please try again.');\n//     }\n//     setLoading(false);\n//   };\n\n//   const handleSignInSubmit = async (e) => {\n//     e.preventDefault();\n//     setLoading(true);\n//     setError(null);\n\n//     try {\n//       const res = await axios.post('http://localhost:8000/api/v1/user/login', signInData, {\n//         headers: { 'Content-Type': 'application/json' },\n//         withCredentials: true,\n//       });\n\n//       if (res.data.success) {\n//         document.cookie = `user=${encodeURIComponent(JSON.stringify(res.data.user))}; path=/`;\n//         // dispatch(setAuthUser(res.data.user));\n//         navigate('/homePage');\n//       } else {\n//         setError('Invalid credentials.');\n//       }\n//     } catch (error) {\n//       setError('Sign in failed. Please try again.');\n//     }\n//     setLoading(false);\n//   };\n\n//   return (\n//     <div>\n//       {/* Background Video */}\n//       <video autoPlay loop muted className=\"absolute inset-0 w-full h-full object-cover z-0\">\n//         <source src=\"auth.mp4\" type=\"video/mp4\" />\n//         Your browser does not support the video tag.\n//       </video>\n//       <div className={`container ${isRightPanelActive ? 'right-panel-active' : ''}`} id=\"container\">\n//         <div className=\"form-container sign-up-container\">\n//           <form onSubmit={handleSignUpSubmit}>\n//             <h1>Create Account</h1>\n//             <input type=\"text\" placeholder=\"Username\" name=\"username\" value={signUpData.username} onChange={handleSignUpChange} />\n//             <input type=\"email\" placeholder=\"Email\" name=\"email\" value={signUpData.email} onChange={handleSignUpChange} />\n//             <input type=\"password\" placeholder=\"Password\" name=\"password\" value={signUpData.password} onChange={handleSignUpChange} />\n//             <select name=\"role\" value={signUpData.role} onChange={handleSignUpChange}>\n//               <option value=\"\" disabled>Select Role</option>\n//               <option value=\"org\">ORG</option>\n//               <option value=\"gamer\">GAMER</option>\n//               <option value=\"host\">HOST</option>\n//             </select>\n//             <button type=\"submit\" disabled={loading}>{loading ? 'Signing Up...' : 'Sign Up'}</button>\n//             {error && <p className=\"error-message\">{error}</p>}\n//           </form>\n//         </div>\n//         <div className=\"form-container sign-in-container\">\n//           <form onSubmit={handleSignInSubmit}>\n//             <h1>Sign in</h1>\n//             <input type=\"email\" placeholder=\"Email\" name=\"email\" value={signInData.email} onChange={handleSignInChange} />\n//             <input type=\"password\" placeholder=\"Password\" name=\"password\" value={signInData.password} onChange={handleSignInChange} />\n//             <button type=\"submit\" disabled={loading}>{loading ? 'Signing In...' : 'Sign In'}</button>\n//             {error && <p className=\"error-message\">{error}</p>}\n//           </form>\n//         </div>\n//         <div className=\"overlay-container\">\n//           <div className=\"overlay\">\n//             <div className=\"overlay-panel overlay-left\">\n//               <h1>Welcome Back!</h1>\n//               <p>To keep connected with us please login with your personal info</p>\n//               <button className=\"ghost\" id=\"signIn\" onClick={() => setRightPanelActive(false)}>Sign In</button>\n//             </div>\n//             <div className=\"overlay-panel overlay-right\">\n//               <h1>Hello, Friend!</h1>\n//               <p>Enter your personal details and start your journey with us</p>\n//               <button className=\"ghost\" id=\"signUp\" onClick={() => setRightPanelActive(true)}>Sign Up</button>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default Auth;","map":{"version":3,"names":[],"sources":["/Users/abhijitbiswal/Desktop/Ongoing/FLEET/FleetMain/frontend/src/pages/Auth.jsx"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import axios from 'axios';\n// // import '../assets/auth.css';  \n// import '../pages/Auth.css';\n// import { useDispatch } from 'react-redux';\n// // import { setAuthUser } from '../redux/authSlice';\n\n// function Auth() {\n//   const [isRightPanelActive, setRightPanelActive] = useState(false);\n//   const [signUpData, setSignUpData] = useState({ username: '', email: '', password: '', role: '' });\n//   const [signInData, setSignInData] = useState({ email: '', password: '' });\n//   const [loading, setLoading] = useState(false);\n//   const [error, setError] = useState(null);\n\n//   const navigate = useNavigate();\n//   const dispatch = useDispatch();\n\n//   useEffect(() => {\n//     const cookies = document.cookie.split(';').find(cookie => cookie.trim().startsWith('user='));\n//     if (cookies) {\n//       const user = JSON.parse(decodeURIComponent(cookies.split('=')[1]));\n//       if (user) {\n//         // dispatch(setAuthUser(user)); // Set the user in Redux state\n//         navigate('/homePage'); // Redirect to home page\n//       }\n//     }\n//   }, [navigate, dispatch]);\n\n//   const handleSignUpChange = (e) => {\n//     setSignUpData({ ...signUpData, [e.target.name]: e.target.value });\n//   };\n\n//   const handleSignInChange = (e) => {\n//     setSignInData({ ...signInData, [e.target.name]: e.target.value });\n//   };\n\n//   const handleSignUpSubmit = async (e) => {\n//     e.preventDefault();\n//     setLoading(true);\n//     setError(null);\n\n//     try {\n//       const res = await axios.post('http://localhost:8000/api/v1/user/register', signUpData, {\n//         headers: { 'Content-Type': 'application/json' },\n//       });\n\n//       if (!res.data.success) {\n//         setError('Sign up failed. Please try again.');\n//       } else {\n//         setRightPanelActive(false);\n//       }\n//     } catch (error) {\n//       setError('Sign up failed. Please try again.');\n//     }\n//     setLoading(false);\n//   };\n\n//   const handleSignInSubmit = async (e) => {\n//     e.preventDefault();\n//     setLoading(true);\n//     setError(null);\n\n//     try {\n//       const res = await axios.post('http://localhost:8000/api/v1/user/login', signInData, {\n//         headers: { 'Content-Type': 'application/json' },\n//         withCredentials: true,\n//       });\n\n//       if (res.data.success) {\n//         document.cookie = `user=${encodeURIComponent(JSON.stringify(res.data.user))}; path=/`;\n//         // dispatch(setAuthUser(res.data.user));\n//         navigate('/homePage');\n//       } else {\n//         setError('Invalid credentials.');\n//       }\n//     } catch (error) {\n//       setError('Sign in failed. Please try again.');\n//     }\n//     setLoading(false);\n//   };\n\n//   return (\n//     <div>\n//       {/* Background Video */}\n//       <video autoPlay loop muted className=\"absolute inset-0 w-full h-full object-cover z-0\">\n//         <source src=\"auth.mp4\" type=\"video/mp4\" />\n//         Your browser does not support the video tag.\n//       </video>\n//       <div className={`container ${isRightPanelActive ? 'right-panel-active' : ''}`} id=\"container\">\n//         <div className=\"form-container sign-up-container\">\n//           <form onSubmit={handleSignUpSubmit}>\n//             <h1>Create Account</h1>\n//             <input type=\"text\" placeholder=\"Username\" name=\"username\" value={signUpData.username} onChange={handleSignUpChange} />\n//             <input type=\"email\" placeholder=\"Email\" name=\"email\" value={signUpData.email} onChange={handleSignUpChange} />\n//             <input type=\"password\" placeholder=\"Password\" name=\"password\" value={signUpData.password} onChange={handleSignUpChange} />\n//             <select name=\"role\" value={signUpData.role} onChange={handleSignUpChange}>\n//               <option value=\"\" disabled>Select Role</option>\n//               <option value=\"org\">ORG</option>\n//               <option value=\"gamer\">GAMER</option>\n//               <option value=\"host\">HOST</option>\n//             </select>\n//             <button type=\"submit\" disabled={loading}>{loading ? 'Signing Up...' : 'Sign Up'}</button>\n//             {error && <p className=\"error-message\">{error}</p>}\n//           </form>\n//         </div>\n//         <div className=\"form-container sign-in-container\">\n//           <form onSubmit={handleSignInSubmit}>\n//             <h1>Sign in</h1>\n//             <input type=\"email\" placeholder=\"Email\" name=\"email\" value={signInData.email} onChange={handleSignInChange} />\n//             <input type=\"password\" placeholder=\"Password\" name=\"password\" value={signInData.password} onChange={handleSignInChange} />\n//             <button type=\"submit\" disabled={loading}>{loading ? 'Signing In...' : 'Sign In'}</button>\n//             {error && <p className=\"error-message\">{error}</p>}\n//           </form>\n//         </div>\n//         <div className=\"overlay-container\">\n//           <div className=\"overlay\">\n//             <div className=\"overlay-panel overlay-left\">\n//               <h1>Welcome Back!</h1>\n//               <p>To keep connected with us please login with your personal info</p>\n//               <button className=\"ghost\" id=\"signIn\" onClick={() => setRightPanelActive(false)}>Sign In</button>\n//             </div>\n//             <div className=\"overlay-panel overlay-right\">\n//               <h1>Hello, Friend!</h1>\n//               <p>Enter your personal details and start your journey with us</p>\n//               <button className=\"ghost\" id=\"signUp\" onClick={() => setRightPanelActive(true)}>Sign Up</button>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default Auth;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}